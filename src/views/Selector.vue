<template>
  <div class="selector">
    <div class="m-tab">
      <div class="u-tab" @click="onClick"></div>
      <VueAmazingSelector
        class="mt60"
        :selectData="selectData"
        :selectedValue="selectedValue"
        name="name"
        value="value"
        placeholder="请选择城市"
        :disabled="false"
        :width="160"
        :height="36"
        :num="6"
        v-if="show"
        @change="onChange" />
      <br/>
      <Cascader
        :selectedAddress="selectedAddress"
        :zIndex="9"
        :gap="8"
        :provinceWidth="120"
        :cityWidth="120"
        :areaWidth="120"
        :width="120"
        :height="36"
        :provinceDisabled="false"
        :cityDisabled="false"
        :disabled="false"
        :num="6"
        v-if="!show"
        @change="getAddress" />
    </div>
  </div>
</template>
<script>
import Cascader from '@/components/Cascader'
import Vue from 'vue'
import VueAmazingSelector from 'vue-amazing-selector'
import 'vue-amazing-selector/lib/selector.css' // 引入相关样式
Vue.use(VueAmazingSelector)
export default {
  name: 'Selector',
  components: {
    Cascader
  },
  data () {
    return {
      currentTabComponent: 'VueAmazingSelector',
      show: false,
      selectedAddress: {
        province: '',
        city: '',
        area: ''
      },
      selectData: [
        {
          name: '北京市',
          value: 1
        },
        {
          name: '上海市上海市上海市上海市',
          value: 2,
          disabled: true
        },
        {
          name: '郑州市',
          value: 3
        },
        {
          name: '纽约市纽约市纽约市纽约市',
          value: 4
        },
        {
          name: '旧金山',
          value: 5
        },
        {
          name: '悉尼市',
          value: 6
        },
        {
          name: '伦敦市',
          value: 7
        },
        {
          name: '巴黎市',
          value: 8
        }
      ],
      selectedValue: ''
    }
  },
  created () {
    this.selectedValue = ''
  },
  activated () {
    console.log('selector activated')
  },
  methods: {
    onClick () {
      this.show = !this.show
      if (this.show) {
        this.currentTabComponent = 'Cascader'
      } else {
        this.currentTabComponent = 'VueAmazingSelector'
      }
    },
    onChange (name, value, index) {
      console.log('item:', name, value, index)
    },
    getAddress (address, addressName) {
      console.log('address:', address)
      console.log('addressName:', addressName)
    }
  }
}
</script>
<style lang="less" scoped>
.selector {
  width: 1200px;
  margin: 0 auto;
}
.m-tab {
  border: 1px solid @themeColor;
  padding: 60px;
  .u-tab {
    width: 60px;
    height: 60px;
    background: @themeColor;
  }
}
</style>
